<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FrontlineQSR | Upload Data</title>

  <!-- Styles -->
  <link rel="stylesheet" href="assets/styles.css" />

  <!-- Master List Loader (must load first) -->
  <script src="assets/masterlist-loader.js?v=1" defer></script>

  <!-- Upload logic -->
  <script src="assets/app.js?v=1" defer></script>
</head>

<body>

<!-- ================= HEADER ================= -->
<header class="brandbar">
  <div class="left">
    <img src="assets/frontlineqsr-logo.png" alt="FrontlineQSR Logo" />
    <div class="title">Client Dashboard</div>
  </div>
  <div class="right">
    <div class="pill">Client: Example Location</div>
  </div>
</header>

<!-- ================= LAYOUT ================= -->
<div class="layout">

  <!-- ========== SIDEBAR ========== -->
  <aside class="sidebar">
    <nav class="nav">
      <a href="index.html">Overview</a>
      <a href="kpis.html">KPIs</a>
      <a href="action-plan.html">Action Plan</a>
      <a href="reports.html">Reports</a>
      <a class="active" href="upload.html">Upload Data</a>
      <a href="payments.html">Payments</a>
      <a href="contracts.html">Contracts</a>
    </nav>
  </aside>

  <!-- ========== MAIN CONTENT ========== -->
  <main class="main">

    <!-- ================= INTRO ================= -->
    <section class="card">
      <h1>Upload Data</h1>
      <p class="muted">
        Upload <strong>3 monthly CSV files</strong>:
        <strong>current month + last month + two months ago</strong>.
        One combined CSV per month (sales + labor + transactions).
      </p>
    </section>

    <!-- ================= CLIENT SELECT (Master List) ================= -->
    <section class="card">
      <h3>Select Client</h3>
      <div class="meta">Choose which location these 3 months belong to.</div>

      <select id="clientSelect" style="margin-top:10px; width:100%; padding:10px; border-radius:10px;">
        <option value="store_1">Loading clients…</option>
      </select>

      <div class="helper" style="margin-top:10px;">
        If you don’t see stores yet, we’ll add one small function in <code>assets/app.js</code> next.
      </div>
    </section>

    <!-- ================= REQUIREMENTS ================= -->
    <section class="card">
      <h3>CSV Requirements (Locked)</h3>
      <ul class="list">
        <li>File type: <strong>.csv</strong></li>
        <li>One file per month (no duplicates)</li>
        <li>
          Required columns:
          <code>Date</code>,
          <code>Location</code>,
          <code>Sales</code>,
          <code>Labor</code>,
          <code>Transactions</code>
        </li>
        <li>Labor may be hours or cost — standardized in Admin Review</li>
      </ul>
      <div class="helper">
        Tip: Export directly from your POS or scheduling tool — don’t screenshot.
      </div>
    </section>

    <!-- ================= UPLOAD ================= -->
    <section class="card">
      <h3>Upload 3 Months</h3>

      <!-- JS injects the upload cards here -->
      <div class="grid-2" id="uploadSlots">
        <!-- Filled by app.js -->
      </div>

      <div class="actions" style="margin-top:14px; display:flex; gap:10px; flex-wrap:wrap;">
        <button class="btn primary" id="validateBtn" type="button">Validate Files</button>
        <button class="btn" id="downloadIssuesBtn" type="button" disabled>Download Issues</button>
        <button class="btn" id="resetBtn" type="button">Reset</button>
      </div>
    </section>

    <!-- ================= STATUS ================= -->
    <section class="card" id="statusPanel">
      <h3>Status</h3>
      <div id="statusText" class="meta">
        Add files for each month, then click <strong>Validate Files</strong>.
      </div>
      <div id="issuesList" style="margin-top:10px;"></div>
    </section>

    <!-- ================= NEXT STEPS ================= -->
    <section class="card">
      <h3>What happens next</h3>
      <ol class="list">
        <li>Validation checks for missing columns and duplicate months.</li>
        <li>Your submission is queued for <strong>Admin Review</strong>.</li>
        <li>Once approved, KPIs and reports update on your dashboard.</li>
      </ol>

      <div style="margin-top:16px;">
        <a href="admin.html" class="btn primary">Go to Admin Review</a>
      </div>
    </section>

  </main>
</div>

</body>
</html>
